---
author_profile: true
categories: "oracle"
toc: true
toc_sticky: true
---

# Dbeaver에서 오라클 사용 시 에러
1. sql문에 공백이 있을 시 에러가 발생되는 문제점 확인
Dbeaver 설정 변경을 통해 해결 가능
- 윈도우 탭 클릭 (Dbeaver 상단 탭들 중에서)
- 설정 클릭
- 편집기 클릭
- sql편집기 클릭
- sql실행 클릭
- Delimiters에 관한 부분에 'Blank line is statement delimiter'라는 항목이 체크되어 있을 것이다. 체크를 풀어준다!

2. sqlplus에서 오라클을 통해 프로시저나 함수를 선언하고 나면 'end;' 명령어 다음에 '/' 다음과 같이 슬래쉬를 통해 입력을 다했다는 표현을 해야 하지만 dbeaver에서는 슬래쉬를 적으면 오히려 에러가 발생한다.

# 프로시저( Procedure )

```sql
declare
	변수명 변수타입,사이즈 := 변수값;
begin
	작업1 ;
    작업2 ;
exception
    when 조건 then
        작업3 ;
    작업4 ;
end;
```

- declare : 변수 선언부로 변수를 선언할 수 있고 다른 부분에서는 변수를 선언할 수 없다. 변수값을 초기화시키고 싶으면 ':='을 이용한다. 값의 초기화는 필수가 아니다.
    - %type : 변수의 타입을 지정하는 부분에서 특정 테이블의 칼럼(필드)과 같은 타입을 가지고 싶다면, '%type'을 이용하면 된다.       
    ex)        
    변수명 테이블명.칼럼명%type := 변수초기화값;  마찬가지로 초기화는 필수가 아님.
    - %rowtype : 위에서 설명한 %type과 비슷하지만 다른점은 %type은 한 가지 변수에 관한 한 가지 데이터타입을 받는 형식이라면, %rowtype은 여러가지 변수에 관한 여러 데이터타입을 받는 형식이다.       
    ex)        
    변수명 테이블명%rowtype; : 테이블에 속한 칼럼들의 칼럼타입들을 똑같이 가지는 변수를 생성. 즉, 이 변수는 여러 칼럼에 대한 정보를 가지고 있다.
    - 치환변수( &변수명 ): 실행 시마다 입력값을 받아 반영하는 동적 데이터 변수를 만들 수 있다. **현재 sqlplus에서는 문제없이 작동하지만 dbeaver에서는 치환변수를 사용할 수 없는 것으로 보인다. 이 부분에 대해서는 더 알아봐야겠다**     
    ex)        
    변수명 변수타입:= &동적변수명; : 동적변수를 받아 바로 선언된 변수를 초기화하는 코드다.     
    

- begin : 변수를 초기화시키거나 새로운 값을 넣을 수도 있고, 원하는 내용을 출력할 수도 있다. 이외에도 핵심작업이 이루어지는 부분이다.
    - dbms_output.put_line( 출력내용 ); : 원하는 내용을 출력할 수 있는 명령어다. 출력내용 안에 들어가는 내용은 '||'를 이용해서 붙여 출력한다.       
    ex)        
    dbms_output.put_line( 변수1,변수2 ); 이런식으로 작성하면 에러발생         
    dbms_output.put_line( 변수1 || 변수2 ); 이런식으로 작성해야 변수1의 변수값과 변수2의 변수값이 이어져서 출력된다.       
    - select into from where문 : declare에서 선언한 변수에 특정 테이블, 칼럼, 조건에 해당하는 값을 가져와 대입하고 싶다면 다음과 같이 sql문을 작성할 수 있다.       
    ex)       
    SELECT 테이블칼럼명 INTO declare선언변수명 FROM 테이블명 WHERE 조건;
    - if문 : 조건에 따라 작업을 달리 할 수 있는 if문을 작성할 수 있다.       
    ex)      
    if (조건1) then 작업1;      
	elsif (조건2) then 작업2;       
	else 작업3;      
    

- exception : 
- end : 말 그대로 끝을 알려주는 예약어





# 함수 ( Function )